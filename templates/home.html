{% extends "template/base.html" %}

{% block content %}
<div class="flex flex-col flex-grow lg:items-center lg:justify-between z-0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <div id="header"
        class="max-w-screen-xl mx-auto flex flex-col flex-grow lg:flex-row lg:items-center lg:justify-between gap-8 lg:gap-32 py-20 md:py-20">
        <!-- Informasi - Visible on all screens -->
        <div
            class="flex-1 flex flex-col self-center z-0 text-gray-50 text-center lg:text-left max-w-xl mx-auto lg:mx-0">
            <p class="font-medium text-2xl md:text-2xl">{{ _('Track Your Daily Mood!') }}</p>
            <h1 class="mb-3 font-semibold text-3xl md:text-4xl">{{ _('Discover Your Happiness Patterns!') }}</h1>
            <p class="text-sm md:text-base leading-relaxed mb-8 lg:mb-0 text-gray-300">
                {{ _('Reflect on your day with just one click. Rate your daily mood and add a short note to capture every precious moment. ðŸ˜Š') }}
            </p>
        </div>

        <!-- Sign-In -->
        <div class="flex item-center justify-center max-w-xl mx-auto lg:mx-0 self-center">
            <div
                class="p-6 md:p-8 bg-white rounded-lg shadow-md w-80 md:w-96 backdrop-blur-sm transition-all duration-300 hover:shadow-2xl">

                <!-- Error Messages -->
                {% with messages = get_flashed_messages(with_categories=True) %}
                {% if messages %}
                {% for category, message in messages %}
                <div class="text-red-800 text-sm bg-red-50 border border-red-500 px-4 py-3 rounded relative mb-2"
                    role="alert">
                    <span class="{{ category }}">{{ message }}</span>
                    <span class="absolute top-0 bottom-0 right-0 px-4 py-3"
                        onclick="this.parentElement.style.display='none';">
                        <svg class="fill-current h-6 w-6 text-red-500" role="button" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 20 20">
                            <title>Close</title>
                            <path
                                d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" />
                        </svg>
                    </span>
                </div>
                {% endfor %}
                {% endif %}
                {% endwith %}


                <div class="mb-6 md:mb-8 text-left">
                    <h3 class="font-semibold text-xl md:text-2xl text-indigo-950 mb-2">Log In to RateMyDay</h3>
                    <p class="text-gray-600 text-sm">Start your journey with us today!</p>
                </div>
                <form method="POST" action="{{ url_for('login') }}" enctype="application/x-www-form-urlencoded"
                    class="space-y-4">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

                    <!-- Email Input -->
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                        <input type="email" id="email_login" name="email" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none 
                   focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" />
                    </div>

                    <!-- Password Input -->
                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                        <input type="password" id="password" name="password" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none 
                   focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" />
                    </div>

                    <!-- Remember Me Checkbox -->
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <input type="checkbox" id="remember-me" name="remember_me"
                                class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded" />
                            <label for="remember-me" class="ml-2 block text-sm text-gray-700">Remember me</label>
                        </div>
                        <div class="text-sm">
                            <a href="{{ url_for('forgot_password') }}"
                                class="font-medium text-indigo-600 hover:text-indigo-500">
                                Lupa password?
                            </a>
                        </div>
                    </div>

                    <!-- Error Message -->
                    <p id="error-message" class="text-red-600 text-sm mt-2 hidden"></p>

                    <!-- Login Button -->
                    <button type="submit" id="loginButton" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 
                   focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 
                   transition-colors mt-6">
                        Login
                    </button>
                </form>

                <div class="mt-6">
                    <div class="relative">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-300"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 bg-white text-gray-500">Or continue with</span>
                        </div>
                    </div>

                    <div class="mt-6">

                        <a href="{{ url_for('google.login') }}"
                            class="w-full flex items-center justify-center gap-2 bg-white border border-gray-300 rounded-md py-2 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors">
                            <svg class="h-5 w-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                                    fill="#4285F4" />
                                <path
                                    d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                                    fill="#34A853" />
                                <path
                                    d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                                    fill="#FBBC05" />
                                <path
                                    d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                                    fill="#EA4335" />
                            </svg>
                            Sign In with Google
                        </a>
                    </div>
                </div>

                <p class="mt-6 md:mt-8 text-center text-sm text-gray-600">
                    Don't have an account?
                    <a href="{{ url_for('register') }}" class="font-medium text-indigo-600 hover:text-indigo-500">Sign
                        Up</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Section Deskripsi Website & About Us (full width) -->
    <div class="flex flex-col flex-grow gap-16 w-full mx-auto bg-white">
        <!-- Section Features Website -->
        <section id="features" class="max-w-screen-xl mx-auto py-16 px-6 md:px-12">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center text-gray-700">
                <div class="text-center md:text-left">
                    <h2 class="text-3xl font-semibold mb-4 border-b pb-3">
                        <span class="text-indigo-950 border-b pb-3">{{ _('Features') }}</span>
                    </h2>
                    <p class="leading-relaxed mb-8 text-center md:text-justify">
                        <strong>RateMyDay</strong> {{_('is a simple app to record and reflect on your day. With an intuitive
                        interface, you
                        can easily rate your day, add notes, and track your mood trends.')}}
                    </p>

                    <ul class="space-y-6 mb-8">
                        <li
                            class="flex flex-col md:flex-row items-center md:items-start group relative text-center md:text-left">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                class="self-center h-10 w-10 md:h-6 md:w-6 text-indigo-500 mb-2 md:mb-0 md:mr-4 transition-colors duration-300 group-hover:text-indigo-700"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15.172a2 2 0 01-2.828 0L5.828 11.172a2 2 0 010-2.828L9.172 4.828a2 2 0 012.828 0z" />
                            </svg>
                            <div>
                                <h3
                                    class="text-lg font-medium text-gray-800 mb-1 group-hover:text-indigo-700 transition-colors duration-300">
                                    {{_('Record Your Day')}}
                                </h3>
                                <p class="text-gray-600">{{_('Give your day a rating and add a quick note.')}}
                                </p>
                            </div>
                        </li>

                        <li
                            class="flex flex-col md:flex-row items-center md:items-start group relative text-center md:text-left">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                class="self-center h-10 w-10 md:h-6 md:w-6 text-indigo-500 mb-2 md:mb-0 md:mr-4 transition-colors duration-300 group-hover:text-indigo-700"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7h12m0 0a2 2 0 012 2v8a2 2 0 01-2 2H9" />
                            </svg>
                            <div>
                                <h3
                                    class="text-lg font-medium text-gray-800 mb-1 group-hover:text-indigo-700 transition-colors duration-300">
                                    {{_('Track Your Progress')}}</h3>
                                <p class="text-gray-600">{{_('Interactive charts to visualize your mood trends.')}}</p>
                            </div>
                        </li>

                        <li
                            class="flex flex-col md:flex-row items-center md:items-start group relative text-center md:text-left">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                class="self-center h-10 w-10 md:h-6 md:w-6 text-indigo-500 mb-2 md:mb-0 md:mr-4 transition-colors duration-300 group-hover:text-indigo-700"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z" />
                            </svg>
                            <div>
                                <h3
                                    class="text-lg font-medium text-gray-800 mb-1 group-hover:text-indigo-700 transition-colors duration-300">
                                    {{_('Quick & Easy')}}</h3>
                                <p class="text-gray-600">{{_('Takes just seconds to note down your day.')}}</p>
                            </div>
                        </li>
                    </ul>

                    <div class="text-center md:text-left">
                        <p class="font-semibold text-gray-700 mb-6">{{_('Start recording and reflecting on your days now!')}} ðŸš€
                        </p>
                        <a href="/homepage"
                            class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-300 hover:scale-105">
                            {{_('Get Started')}}
                        </a>
                    </div>
                </div>

                <div class="flex flex-col items-center">
                    <img src="{{ url_for('static', filename='img/taking_note.png') }}" alt="Ilustrasi Rate My Day"
                        class="max-w-full h-auto">
                    <p class="text-xs text-gray-600 mt-2">
                        <a href="https://www.vecteezy.com/free-png/3d" class="hover:underline" target="_blank">3D PNGs
                            by Vecteezy</a>
                    </p>
                </div>
            </div>
        </section>
    </div>

    <!-- Section Features -->
    <div
        class="flex flex-col flex-grow gap-16 w-full mx-auto bg-gradient-to-r from-yellow-100 via-orange-50 to-orange-100">
        <section class="max-w-screen-xl mx-auto py-20 px-6 md:px-12 text-gray-700">
            <div class="text-center md:text-left">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="p-6 rounded-lg shadow-md transition-all duration-300 hover:shadow-xl bg-white">
                        <div class="mb-4 text-center">
                            <img src="{{ url_for('static', filename='img/love.png') }}" alt="Ilustrasi Rate My Day"
                                class="max-w-40 h-auto mx-auto">
                            <p class="text-xs text-gray-600 mt-2 self-center">
                                <a href="https://www.vecteezy.com/free-png/adult" class="hover:underline"
                                    target="_blank">Adult PNGs by Vecteezy</a>
                            </p>
                        </div>
                        <h3 class="text-lg font-medium text-gray-800 mb-2 text-center">{{_('More Emotionally Aware')}}</h3>
                        <p class="text-gray-600 text-center">{{_('Recognize patterns and understand your feelings.')}}</p>
                    </div>

                    <div class="p-6 rounded-lg shadow-md transition-all duration-300 hover:shadow-xl bg-white">
                        <div class="flex items-center justify-center mb-4">
                            <div class="mb-4 text-center">
                                <img src="{{ url_for('static', filename='img/date.png') }}" alt="Ilustrasi Rate My Day"
                                    class="max-w-40 h-auto mx-auto">
                                <p class="text-xs text-gray-600 mt-2 self-center">
                                    <a href="https://www.vecteezy.com/free-png/3d" class="hover:underline"
                                        target="_blank">3d PNGs by Vecteezy</a>
                                </p>
                            </div>
                        </div>
                        <h3 class="text-lg font-medium text-gray-800 mb-2 text-center">{{_('Build Positive Habits')}}</h3>
                        <p class="text-gray-600 text-center">{{_('Identify good and bad patterns through daily journaling.')}}
                        </p>
                    </div>

                    <div class="p-6 rounded-lg shadow-md transition-all duration-300 hover:shadow-xl bg-white">
                        <div class="flex items-center justify-center mb-4">
                            <div class="mb-4 text-center">
                                <img src="{{ url_for('static', filename='img/note.png') }}" alt="Ilustrasi Rate My Day"
                                    class="max-w-32 h-auto mx-auto">
                                <p class="text-xs text-gray-600 mt-2 self-center">
                                    <a href="https://www.vecteezy.com/free-png/article" class="hover:underline"
                                        target="_blank">Article PNGs by Vecteezy</a>
                                </p>
                            </div>
                        </div>
                        <h3 class="text-lg font-medium text-gray-800 mb-2 text-center">{{_('Express Yourself Freely')}}</h3>
                        <p class="text-gray-600 text-center">{{_('Keep a personal journal as a reflection of your journey.')}}
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Section About Us -->
    <div class="flex flex-col flex-grow gap-16 w-full mx-auto bg-white">
        <section id="about-us" class="max-w-screen-xl mx-auto py-16 px-6 md:px-12 text-gray-700">
            <div class="text-center md:text-left">
                <h2 class="text-3xl font-semibold mb-6 border-b pb-3">
                    <span class="text-indigo-950">{{_('About Us')}}</span>
                </h2>
                <div class="text-center md:text-justify">
                    <p class="leading-relaxed mb-2">
                        {{_('Hey there! We believe that every day has its own unique story. Thatâ€™s why we created
                        <strong>RateMyDay</strong>â€”a simple platform to reflect on your day quickly and effortlessly.')}}
                    </p>
                    <p class="leading-relaxed mb-8">
                        {{_('Each day is a canvas waiting to be filled with the colors of your experiences. Through
                        reflection, we can recognize patterns, understand ourselves better, and find meaning in every
                        moment. We hope <strong>RateMyDay</strong> becomes a helpful tool in your journey, guiding you
                        toward peace and
                        happiness every day.')}}
                    </p>
                    <span class="leading-relaxed">
                        <p class="font-bold">{{_('Warm regards,')}}</p>
                        {{_('RateMyDay Team')}} ðŸš€
                    </span>
                </div>
            </div>
        </section>
    </div>

    <!-- Section Support Us -->
    <div class="flex flex-col flex-grow w-full mx-auto bg-white">
        <section id="support-us" class="max-w-screen-xl mx-auto py-16 px-6 md:px-12 text-gray-700 text-gray-700">
            <!-- Support Us Section -->
            <div class="text-center md:text-left">
                <!-- Header -->
                <div class="mb-12">
                    <h2 class="text-3xl font-semibold mb-6 text-indigo-950 border-b pb-3">{{_('Support Us')}}</h2>
                    <p class="leading-relaxed text-center md:text-justify">
                        {{_('Hey there! At RateMyDay, we believe that tracking your mood daily can help you be more aware of
                        your feelings, understand emotional patterns, and ultimately, have better days. We want to keep
                        this platform free, simple, and useful for everyone.')}}
                    </p>
                </div>

                <div class="mb-12">
                    <h3 class="text-xl md:text-xl font-semibold mb-4 text-indigo-950">{{_('Why Your Support
                        Matters')}}?</h3>

                    <p class="text-gray-700 mb-6">{{_('Even a little support from you helps us:')}}</p>

                    <ul class="space-y-5">
                        <li
                            class="flex flex-col md:flex-row items-center md:items-start group relative text-center md:text-left transition-all duration-200 hover:translate-x-1">
                            <span
                                class="self-center flex-shrink-0 text-indigo-600 mr-4 h-12 w-12 md:h-12 md:w-12 mb-2 md:mb-0 md:mr-4 p-2">
                                <span class="text-2xl">ðŸŒŸ</span>
                            </span>
                            <div class="text-gray-600 self-center">
                                <span class="font-medium text-gray-800">{{_('Add awesome new features')}}</span> {{_('like interactive
                                charts, smarter mood insights, and an even smoother experience.')}}
                            </div>
                        </li>

                        <li
                            class="flex flex-col md:flex-row items-center md:items-start group relative text-center md:text-left transition-all duration-200 hover:translate-x-1">
                            <span
                                class="flex-shrink-0 text-indigo-600 mr-4 h-12 w-12 md:h-12 md:w-12 mb-2 md:mb-0 md:mr-4 p-2">
                                <span class="text-2xl">ðŸ”’</span>
                            </span>
                            <div class="text-gray-600 self-center">
                                <span class="font-medium text-gray-800">{{_('Keep your data safe & private')}}</span> {{_('because we
                                believe self-reflection should stay yours.')}}
                            </div>
                        </li>

                        <li
                            class="flex flex-col md:flex-row items-center md:items-start group relative text-center md:text-left transition-all duration-200 hover:translate-x-1">
                            <span
                                class="flex-shrink-0 text-indigo-600 mr-4 h-12 w-12 md:h-12 md:w-12 mb-2 md:mb-0 md:mr-4 p-2">
                                <span class="text-2xl">ðŸ“±</span>
                            </span>
                            <div class="text-gray-600 self-center">
                                <span class="font-medium text-gray-800">{{_('Build a better mobile version')}}</span> {{_('so you can
                                record your mood anytime, anywhere.')}}
                            </div>
                        </li>

                        <li
                            class="flex flex-col md:flex-row items-center md:items-start group relative text-center md:text-left transition-all duration-200 hover:translate-x-1">
                            <span
                                class="flex-shrink-0 text-indigo-600 mr-4 h-12 w-12 md:h-12 md:w-12 mb-2 md:mb-0 md:mr-4 p-2">
                                <span class="text-2xl">ðŸ’¡</span>
                            </span>
                            <div class="text-gray-600 self-center">
                                <span class="font-medium text-gray-800">{{_('Keep RateMyDay free')}}</span> {{_('for everyone who
                                needs a space to express themselves.')}}
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Ways You Can Help -->
                <div class="mb-12">
                    <h3 class="text-xl md:text-xl font-semibold mb-6 text-indigo-950">{{_('Ways You Can Help')}}</h3>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- Share -->
                        <div
                            class="bg-white border border-gray-100 rounded-lg p-6 text-center shadow-md transition-all duration-300 hover:shadow-xl">
                            <div class="text-3xl mb-3">ðŸ’¬</div>
                            <h4 class="font-medium mb-2">{{_('Share RateMyDay')}}</h4>
                            <p class="text-sm text-gray-600">{{_('Share with a friend or anyone who might find it helpful.')}}
                            </p>

                            <div id="shareModal"
                                class="fixed inset-0 bg-gray-900 bg-opacity-60 hidden z-50 flex items-center justify-center transition-opacity duration-300">
                                <div
                                    class="bg-white p-6 rounded-xl shadow-xl w-80 transform transition-transform duration-300 scale-100">
                                    <div class="flex justify-between items-center mb-5">
                                        <h2 class="text-lg font-semibold text-gray-800">Share RateMyDay</h2>
                                        <button onclick="toggleModal()"
                                            class="text-gray-400 hover:text-gray-600 focus:outline-none transition-colors duration-200">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                                                fill="currentColor">
                                                <path fill-rule="evenodd"
                                                    d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                                    clip-rule="evenodd" />
                                            </svg>
                                        </button>
                                    </div>

                                    <div class="grid grid-cols-3 gap-3 mb-4">
                                        <a href="#" onclick="shareToTwitter(event)"
                                            class="flex flex-col items-center justify-center py-3 px-2 rounded-lg hover:bg-gray-50 transition-colors duration-200 group">
                                            <div
                                                class="w-10 h-10 bg-blue-400 text-white rounded-full flex items-center justify-center mb-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5"
                                                    viewBox="0 0 24 24" fill="currentColor">
                                                    <path
                                                        d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z" />
                                                </svg>
                                            </div>
                                            <span
                                                class="text-sm text-gray-600 group-hover:text-gray-900 transition-colors duration-200">Twitter</span>
                                        </a>

                                        <a href="#" onclick="shareToFacebook(event)"
                                            class="flex flex-col items-center justify-center py-3 px-2 rounded-lg hover:bg-gray-50 transition-colors duration-200 group">
                                            <div
                                                class="w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center mb-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5"
                                                    viewBox="0 0 24 24" fill="currentColor">
                                                    <path
                                                        d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                                                </svg>
                                            </div>
                                            <span
                                                class="text-sm text-gray-600 group-hover:text-gray-900 transition-colors duration-200">Facebook</span>
                                        </a>

                                        <a href="#" onclick="shareToWhatsApp(event)"
                                            class="flex flex-col items-center justify-center py-3 px-2 rounded-lg hover:bg-gray-50 transition-colors duration-200 group">
                                            <div
                                                class="w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center mb-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5"
                                                    viewBox="0 0 24 24" fill="currentColor">
                                                    <path
                                                        d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
                                                </svg>
                                            </div>
                                            <span
                                                class="text-sm text-gray-600 group-hover:text-gray-900 transition-colors duration-200">WhatsApp</span>
                                        </a>
                                    </div>

                                    <div class="mb-4">
                                        <div class="flex items-center mb-2">
                                            <span class="text-sm font-medium text-gray-700">Copy Link</span>
                                        </div>
                                        <div class="flex">
                                            <input type="text" id="shareUrl"
                                                class="flex-1 px-3 py-2 text-sm border border-gray-300 rounded-l-lg focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"
                                                readonly>
                                            <button onclick="copyShareUrl()"
                                                class="px-3 py-2 bg-indigo-600 text-white text-sm rounded-r-lg hover:bg-indigo-700 transition-colors duration-200 focus:outline-none">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4"
                                                    viewBox="0 0 20 20" fill="currentColor">
                                                    <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                                                    <path
                                                        d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                                                </svg>
                                            </button>
                                        </div>
                                        <div id="copyMessage" class="text-xs text-green-600 mt-1 hidden">Link copied to
                                            clipboard!</div>
                                    </div>

                                    <div class="border-t border-gray-200 pt-4">
                                        <button onclick="toggleModal()"
                                            class="w-full py-2 text-sm font-medium text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-50 transition-colors duration-200 focus:outline-none">
                                            Close
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <button onclick="toggleModal()"
                                class="inline-flex items-center text-sm text-indigo-600 hover:text-indigo-800 transition-colors duration-200 group">
                                {{_('Share now')}}
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform duration-200"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z"
                                        clip-rule="evenodd" />
                                </svg>
                            </button>
                        </div>

                        <!-- Donate -->
                        <div
                            class="bg-white border border-gray-100 rounded-lg p-6 text-center shadow-md transition-all duration-300 hover:shadow-xl">
                            <div class="text-3xl mb-3">â˜•</div>
                            <h4 class="font-medium mb-2">{{_('Buy us a coffee')}}</h4>
                            <p class="text-sm text-gray-600">{{_('A small donation goes a long way!')}}</p>
                            <a href="https://trakteer.id/wkwk-dev/tip" target="_blank"
                                class="inline-flex items-center mt-4 text-sm text-indigo-600 hover:text-indigo-800 transition-colors duration-200 group">
                                {{_('Donate now')}}
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform duration-200"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z"
                                        clip-rule="evenodd" />
                                </svg>
                            </a>
                        </div>

                        <!-- Feedback -->
                        <div
                            class="bg-white border border-gray-100 rounded-lg p-6 text-center shadow-md transition-all duration-300 hover:shadow-xl">
                            <div class="text-3xl mb-3">ðŸ“£</div>
                            <h4 class="font-medium mb-2">{{_('Give feedback')}}</h4>
                            <p class="text-sm text-gray-600">{{_('What features would you love to see?')}}</p>
                            <a href="#feedback"
                                class="inline-flex items-center mt-4 ml-4 text-sm text-indigo-600 hover:text-indigo-800 transition-colors duration-200 group">
                                {{_('Send feedback')}}
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform duration-200"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z"
                                        clip-rule="evenodd" />
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
        </section>
    </div>

    <div class="flex flex-col flex-grow w-full mx-auto">
        <!-- Support Us Form Section -->
        <section class="max-w-screen-xl mx-auto py-16 px-6 md:px-12 text-gray-700 text-gray-700">
            <div id="feedback" class="text-center md:text-left">
                <!-- Feedback Section -->
                <div
                    class="max-w-screen-xl mx-auto flex flex-col flex-grow lg:flex-row-reverse lg:items-center lg:justify-between gap-8 lg:gap-32 md:px-20">
                    <!-- Feedback Description-->
                    <div class="text-gray-50 text-center lg:text-right max-w-md mb-8">
                        <h3 class="text-xl font-semibold mb-4">{{_('Weâ€™d Love to Hear From You!')}}
                        </h3>
                        <p class="text-sm md:text-base leading-relaxed mb-4">{{_('Help us improve by sharing your thoughts
                            and ideas. Thank you for being part of
                            this journey!')}}</p>
                    </div>

                    <!-- Feedback Form -->
                    <div
                        class="p-6 md:p-8 bg-white rounded-lg shadow-md backdrop-blur-sm transition-all duration-300 hover:shadow-2xl">

                        <div class="mb-6 md:mb-8 text-left">
                            <h3 class="font-semibold text-xl md:text-2xl text-indigo-950 mb-2">{{_('Give Your Feedback')}}
                            </h3>
                            <p class="text-gray-600 text-sm">{{_('Just enter your name, email, and feedback below.
                                We appreciate your time!')}} </p>
                        </div>

                        <form id="feedbackForm" method="POST" action="{{ url_for('send_feedback') }}"
                            class="space-y-4 text-left">
                            <!-- Name Input -->
                            <div>
                                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">{{_('Name')}}</label>
                                <input type="text" id="name" name="name" required autocomplete="off" class="block w-full px-4 py-2 border border-gray-300 rounded-md 
                                           focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 
                                           transition-colors duration-300">
                            </div>

                            <!-- Email Input -->
                            <div>
                                <label for="email_feedback"
                                    class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                <input type="email" id="email_feedback" name="email" required autocomplete="off" class="block w-full px-4 py-2 border border-gray-300 rounded-md 
                                           focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 
                                           transition-colors duration-300">
                            </div>

                            <!-- Message Input -->
                            <div>
                                <label for="message" class="block text-sm font-medium text-gray-700 mb-1">{{_('Your
                                    Feedback')}}</label>
                                <textarea id="message" name="message" rows="4" required class="block w-full px-4 py-2 border border-gray-300 rounded-md 
                                           focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 
                                           transition-colors duration-300"></textarea>
                            </div>

                            <!-- Submit Button -->
                            <div class="text-center pt-2">
                                <button id="submit-button" type="submit" class="px-6 py-2 bg-indigo-600 text-white rounded-full 
                                           hover:bg-indigo-700 transition-colors duration-300 shadow-sm">
                                    {{_('Send Feedback')}}
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<!-- Share Modal Script -->
<script>
    function getCurrentPageUrl() {
        // Get the current page URL
        return window.location.href;
    }

    function toggleModal() {
        const modal = document.getElementById("shareModal");
        modal.classList.toggle("hidden");

        // Handle animation states
        if (!modal.classList.contains("hidden")) {
            // When opening, update the URL field
            document.getElementById("shareUrl").value = getCurrentPageUrl();

            // Animation
            setTimeout(() => {
                const dialog = modal.querySelector("div");
                dialog.classList.remove("scale-100");
                dialog.classList.add("scale-105");
                setTimeout(() => {
                    dialog.classList.remove("scale-105");
                    dialog.classList.add("scale-100");
                }, 100);
            }, 10);
        }
    }

    function shareToTwitter(event) {
        event.preventDefault();
        const url = encodeURIComponent(getCurrentPageUrl());
        const text = encodeURIComponent("Check out RateMyDay - track your mood and understand your emotional patterns!");
        window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, "_blank");
    }

    function shareToFacebook(event) {
        event.preventDefault();
        const url = encodeURIComponent(getCurrentPageUrl());
        window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, "_blank");
    }

    function shareToWhatsApp(event) {
        event.preventDefault();
        const url = encodeURIComponent(getCurrentPageUrl());
        const text = encodeURIComponent("Check out RateMyDay - track your mood and understand your emotional patterns!");
        window.open(`https://api.whatsapp.com/send?text=${text} ${url}`, "_blank");
    }

    function copyShareUrl() {
        const shareUrlInput = document.getElementById("shareUrl");
        shareUrlInput.select();
        document.execCommand("copy");

        // Show copied message
        const copyMessage = document.getElementById("copyMessage");
        copyMessage.classList.remove("hidden");

        // Hide message after 2 seconds
        setTimeout(() => {
            copyMessage.classList.add("hidden");
        }, 2000);
    }
</script>

<!-- Feedback Form Script -->
<meta name="csrf-token" content="{{ csrf_token() }}">
<script>
    document.getElementById("feedbackForm").addEventListener("submit", function (event) {
        event.preventDefault();  // Mencegah reload

        let submitButton = document.getElementById("submit-button");
        let originalText = submitButton.innerHTML; // Simpan teks asli tombol
        submitButton.innerHTML = "Loading...";
        submitButton.disabled = true; // Nonaktifkan tombol saat proses

        let formData = new FormData(this);

        fetch("{{ url_for('send_feedback') }}", {
            method: "POST",
            body: formData,
            headers: {
                "X-CSRFToken": document.querySelector("meta[name='csrf-token']").getAttribute("content")
            }
        })
            .then(response => {
                if (response.redirected) {
                    window.location.href = response.url; // Redirect jika server mengirim 302
                    return;
                }
                return response.json();
            })
            .then(data => {
                if (data && data.status === "success") {
                    Swal.fire({
                        title: "Success!",
                        text: data.message,
                        icon: "success",
                        confirmButtonText: "OK"
                    }).then(() => {
                        document.getElementById("feedbackForm").reset();
                    });
                } else if (data) {
                    Swal.fire({
                        title: "Error!",
                        text: data.message,
                        icon: "error",
                        confirmButtonText: "OK"
                    });
                }
            })
            .catch(error => {
                console.error("Error:", error);
                Swal.fire({
                    title: "Error!",
                    text: "Something went wrong. Please try again.",
                    icon: "error",
                    confirmButtonText: "OK"
                });
            })
            .finally(() => {
                submitButton.innerHTML = originalText; // Kembalikan teks tombol
                submitButton.disabled = false; // Aktifkan kembali tombol
            });
    });
</script>

{% endblock %}